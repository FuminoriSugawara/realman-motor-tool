## realman-motor-toolについて

CANバス上にあるRealman社製モーターに対してCANFD通信でコミュニケーションするツールです。


## 使い方

以下の手順に従って、Realman社製モーターとのCANFD通信を行うツールを使用してください。

1. ツールをダウンロードしてインストールします。
2. Realmanモーターとの接続を確認します。
3. ツールを起動します。
4. ツールの設定を適切に行います。
5. モーターとの通信を開始します。

詳細な使い方やコマンドの説明については、ツールのドキュメントを参照してください。

## CANインターフェイスの起動

1. USB CANFDデバイスを接続します。
2. `sudo chmod +x setup-canfd.sh` を実行します。
3. `sudo ./setup-canfd.sh`を実行します。


## ツールの起動

1. `python3 src/main.py`を実行します。
2. コマンドの実行方法は`help`を入力すると確認できます。


## モーターとのコミュニケーション開始

モーターとのコミュニケーションを開始するために、`online {モーターID}`を入力します。  
例えば、モーターID 1とのコミュニケーションを開始する場合、`online 1`を入力します。  


## モーターの現在状態取得

モーターの現在状態を取得する場合は、`state {モーターID}`を入力します。

## モーターのレジスタ情報の取得

モーターのパラメータを取得する場合は `get {モーターID} {パラメータ名}`を入力します。  
パラメータ名の一覧は `parameters`を入力すると表示されます。  

### モーターのレジスタ情報の取得例

現在位置を取得する場合は `get 1 CUR_POSITION`を入力します。  
位置制御のPゲインを取得する場合は `get 1 SEV_POSITION_P`を入力します。


## モーターへの情報の送信

モーターに情報を送信する場合は、 `set {モーターID} {パラメータ名}　{値}`を入力します。

### モーターへの情報送信例

モーター1をブレーキ状態にする場合は、`set 1 SYS_ENABLE_DRIVER 0`を入力します。  
モーター1のブレーキ状態を解除する場合は、`set 1 SYS_ENABLE_DRIVER 1`を入力します。


## ツールの終了

ツールを終了する場合`exit`と入力するか、Ctrl+CもしくはCtrl+Dをキーボードで入力します。